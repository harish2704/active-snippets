<% extend 'layout' %>
<% include 'helpers/templates' %>
<% block 'content' : %>
<div class="row">
    <div class="row">
        <div class="row">
            <form action="" method="get" accept-charset="utf-8" role="form" class="form-inline">
                <div class="input-group">
                    <input id="inputSearch" name="keyword" class="input- form-control" placeholder="Search" type="text">
                    <span class="input-group-btn">
                        <button type="submit" class="btn btn-default">Search</button> 
                    </span>
                </div>
            </form>
        </div>
        <div class="form-group">
            <a href="/templates/new" class="glyphicon glyphicon-plus btn btn-success">New</a>
        </div>
    </div>
    <div class="row">
        <table class="table" >
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <% for template in @templates : %>
                <tr>
                    <td><a href="<%- @templateUrl template %>"><%- template._id %></a></td>
                    <td><%- template.name %></td>
                    <td><%- template.lang %></td>
                    <td>
                        <a class="glyphicon glyphicon-th-list text-success" href="<%- @templateUrl template %>"> </a>
                        <a class="glyphicon glyphicon-pencil text-warning" href="<%- @templateUrl template %>/edit"></a>
                        <a class="glyphicon glyphicon-remove text-danger" href="<%- @templateUrl template %>/delete" onclick="return confirmAndDelete(confirmDeleteTemplateTxt, '<%- @templateUrl template %>')" ></a>

                    </td>
                </tr>
                <% end %>
            </tbody>
        </table>
    </div>

    <div class="row">
        <ul class="pagination">
            <li><a href="/templates?page=1">&laquo;</a></li>
            <% for page, className of @pagination.range : %>
            <li class="<%= className %>"><a href="/templates?page=<%= page %>"><%= page %></a></li>
            <% end %>
            <li><a href="/templates?page=<%= @pagination.total %>">&raquo;</a></li>
        </ul>
    </div>
</div>
<% end %>

<% block 'scripts' : %>
    <script type="text/javascript" charset="utf-8">
        var confirmDeleteTemplateTxt = 'Are you sure want to delete this template?';
    </script>
<% end %>


<!-- vim: set ft=html.ect.bootstrap3 : -->
