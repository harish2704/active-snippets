
<% extend 'layout' %>
<% block 'head' : %>
<script src="/js/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="/js/coffee-script.js"></script>
<script src="/js/ect.js"></script>

<% end %>
<% include 'helpers/templates' %>
<% block 'content' : %>
<div class="row">
    <a class="btn btn-warning glyphicon glyphicon-pencil text-warning" href="<%- @templateUrl @template %>/edit"></a>
</div>
    <div class="row">
        <div id="editor" style="height:300px;"></div>
    </div>
    <script type="text/html" id="template" charset="utf-8"><%- @template.source %></script>

    <script type="text/javascript" charset="utf-8">
        var templates = templates || {};
        templates.page = $('#template').html();
        var editor = ace.edit("editor");
        editor.setTheme("ace/theme/monokai");
        editor.getSession().setMode("ace/mode/javascript");
        var renderer = new ECT({root: templates });


        editor.insert( renderer.render('page', {model: "User"}) );
    </script>

<% end %>



<!-- vim: set ft=html.ect.bootstrap3 : -->
